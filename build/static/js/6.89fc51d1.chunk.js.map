{"version":3,"sources":["components/MyTextInput/MyTextInput.js","components/MyTextInput/MyTextInput.module.css","views/Registration/Registration.module.css","views/Registration/Registration.js"],"names":["MyTextInput","label","props","useField","field","meta","className","s","htmlFor","id","name","input","touched","error","module","exports","validationSchema","Yup","required","email","password","min","max","confirmPassword","oneOf","Registration","dispatch","useDispatch","handleSubmit","useCallback","values","a","setSubmitting","resetForm","authOperations","register","message","toast","console","log","initialValues","onSubmit","formik","form","type","placeholder","btn","disabled","dirty","isValid"],"mappings":"oQAKOA,EAAc,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAUC,EAAY,iBAE3C,EAAsBC,YAASD,GAA/B,mBAAOE,EAAP,KAAcC,EAAd,KACA,OACE,qCACE,uBAAOC,UAAYC,IAAEN,MAAOO,QAASN,EAAMO,IAAMP,EAAMQ,KAAvD,SAA8DT,IAC9D,+CAAOK,UAAWC,IAAEI,OAAWP,GAAWF,IACzCG,EAAKO,SAAWP,EAAKQ,MACpB,qBAAKP,UAAWC,IAAEM,MAAlB,SAA0BR,EAAKQ,QAC7B,U,oBCbXC,EAAOC,QAAU,CAAC,MAAQ,2BAA2B,MAAQ,2BAA2B,MAAQ,6B,oBCAhGD,EAAOC,QAAU,CAAC,KAAO,2BAA2B,IAAM,4B,wMCUpDC,EAAmBC,IAAW,CAChCP,KAAMO,MAAaC,SAAS,YAC9BC,MAAOF,MAAaE,MAAM,yBAAyBD,SAAS,YAC5DE,SAAUH,MACPI,IAAI,EAAG,iBACPC,IAAI,GAAI,kBACJJ,SAAS,YACdK,gBAAiBN,MAChBO,MAAM,CAACP,IAAQ,YAAa,MAAO,wBAAwBC,SAAS,cAoE1DO,EAhEM,WACnB,IAAMC,EAAWC,cAUXC,EAAeC,sBAAW,uCAAE,WAAOC,EAAP,0BAAAC,EAAA,6DAAiBC,EAAjB,EAAiBA,cAAeC,EAAhC,EAAgCA,UACxDvB,EAA0BoB,EAA1BpB,KAAMS,EAAoBW,EAApBX,MAAOC,EAAaU,EAAbV,SADW,kBAGxBM,EAASQ,IAAeC,SAAS,CAACzB,OAAMS,QAAOC,cAHvB,uDAKE,MAAlB,KAAMgB,SACRC,IAAMxB,MAAM,+BANM,QAUhCyB,QAAQC,IAAIT,GACZE,GAAc,GACdC,EAAU,CAACH,OAAQ,KAZa,yDAAF,wDAa7B,CAACJ,IAEF,OACA,cAAC,IAAD,CACEc,cAxBmB,CACrB9B,KAAM,GACNS,MAAO,GACPC,SAAU,GACVG,gBAAiB,IAqBfP,iBAAkBA,EAClByB,SAAUb,EAHZ,SAKK,SAACc,GAAD,OACC,eAAC,IAAD,CAAMpC,UAAWC,IAAEoC,KAAnB,UACA,cAAC3C,EAAA,EAAD,CACAC,MAAM,YACNS,KAAK,OACLkC,KAAK,OACLC,YAAY,SAEd,cAAC7C,EAAA,EAAD,CACKC,MAAM,aACNS,KAAK,QACLkC,KAAK,QACLC,YAAY,oBAEjB,cAAC7C,EAAA,EAAD,CACEC,MAAM,gBACNS,KAAK,WACLkC,KAAK,aAGC,cAAC5C,EAAA,EAAD,CACNC,MAAM,wBACNS,KAAK,kBACLkC,KAAK,aAEH,wBAAQtC,UAAYC,IAAEuC,IAAKF,KAAK,SAASG,WAAYL,EAAOM,OAASN,EAAOO,SAA5E","file":"static/js/6.89fc51d1.chunk.js","sourcesContent":["import React from 'react';\nimport { useField } from 'formik';\nimport s from './MyTextInput.module.css';\n\n \n const MyTextInput = ({ label, ...props }) => {\n\n   const [field, meta] = useField(props);\n   return (\n     <>\n       <label className={ s.label} htmlFor={props.id || props.name}>{label}</label>\n       <input className={s.input} {...field} {...props} />\n       {meta.touched && meta.error ? (\n         <div className={s.error}>{meta.error}</div>\n       ) : null}\n     </>\n   );\n };\n\nexport { MyTextInput }; ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"MyTextInput_label__16E4R\",\"input\":\"MyTextInput_input__20x5E\",\"error\":\"MyTextInput_error__3yBsu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Registration_form__12-bf\",\"btn\":\"Registration_btn__1Di5W\"};","import { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport s from './Registration.module.css';\nimport { MyTextInput } from 'components/MyTextInput/MyTextInput';\nimport authOperations from 'redux/auth/auth-operations';\nimport { useDispatch } from 'react-redux';\nimport { useCallback } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nconst validationSchema = Yup.object({\n    name: Yup.string().required('Required'),\n  email: Yup.string().email('Invalid email address').required('Required'),\n  password: Yup.string()\n    .min(6, 'Min 8 symbols')\n    .max(20, 'Max 15 symbols')\n        .required('Required'),\n    confirmPassword: Yup.string()\n    .oneOf([Yup.ref('password'), null], 'Passwords must match').required('Required')\n  \n});\n\nconst Registration = () => {\n  const dispatch = useDispatch();\n\n\n  const INITIAL_VALUES = {\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  }\n\n  const handleSubmit = useCallback( async (values, { setSubmitting, resetForm }) => {\n    const { name, email, password } = values;\n    try {\n      await dispatch(authOperations.register({name, email, password}));\n    } catch (error){\n                if (error.message === 400) {\n                  toast.error('Incorrect password or login');\n      }\n    }\n    \n    console.log(values)\n    setSubmitting(false);\n    resetForm({values: ''})\n  }, [dispatch])\n\n    return (\n    <Formik\n      initialValues={INITIAL_VALUES}\n      validationSchema={validationSchema}\n      onSubmit={handleSubmit}\n      >\n        {(formik) => (\n          <Form className={s.form}>\n          <MyTextInput\n          label=\"Your name\"\n          name=\"name\"\n          type=\"text\"\n          placeholder=\"Sara\"/>\n        \n        <MyTextInput\n             label=\"Your email\"\n             name=\"email\"\n             type=\"email\"\n             placeholder=\"jane@formik.com\"/>\n         \n        <MyTextInput\n          label=\"Your password\"\n          name=\"password\"\n          type=\"password\"\n                />\n    \n                <MyTextInput\n          label=\"Confirm your password\"\n          name=\"confirmPassword\"\n          type=\"password\"/>\n\n            <button className={ s.btn} type=\"submit\" disabled={!(formik.dirty && formik.isValid)}>Submit</button>\n      </Form>\n        ) }\n    </Formik>\n  );\n};\n\nexport default Registration ;\n"],"sourceRoot":""}